
{% extends "_layout" %}
{% includeCssFile "/checkout.css" %}
{% includeJsFile "/billing.js" %}

{% set cart = craft.commerce.getCart() %}

{% block main %}

  {% if cart.email == '' %}
    {% redirect "/account/login/checkout" 301 %}
  {% endif %}

  <script src="https://js.stripe.com/v3/"></script>

  {% include "components/breadcrumb.twig" %}

  <section id="customer-info">

    <div class="lock">

      <form method="POST" id="payment" data-cost="{{ cart.totalPrice | commerceCurrency(cart.currency, convert = true, format = false, stripZeros = true) }}" >

        <input type="hidden" name="action" value="commerce/payments/pay"/>
        <input type="hidden" name="redirect" value="/account/orders"/>
        <input type="hidden" data-stripe="exp_month" />
        <input type="hidden" data-stripe="exp_year" />

        <div class="form-group">

          <h1 class="acumin-medium-bold">Billing</h1>

          <div class="digital-payments">

            <h2>Pay with online service</h2>

            <div class='types'>

            </div>

            <p class="divider"><span>Or</span></p>

          </div>

          <div class="credit-card">

            <h2 class="acumin-medium">Pay with a credit card</h2>

            <div class="two-column card-number-expiration">

              <div class="field number" valid="false">
                <label for="number"><span>Card Number</span></label>
                <div class="input">
                  <input type="text"
                         id="number"
                         maxlength="20"
                         data-stripe="number"
                         placeholder="" />
                  <div class="overlay">
                    <img class="card" src="/images/cards/visa.png" />
                    <img class="card" src="/images/cards/amex.png" />
                  </div>
                </div>
              </div>

              <div class="field expiration" valid="false">
                <label for="expiration"><span>Valid Thru</span></label>
                <div class="input">
                  <input type="text"
                         id="expiration"
                         maxlength="5"
                         placeholder="MM/YY" />
                  <div class="overlay">
                    <span>MM/YY</span>
                    <img src="/images/icons/checkmark-green.svg" />
                  </div>
                </div>
              </div>

            </div>

            <div class="two-column">

              <div class="field cvc" valid="false">
                <label for="cvc">
                  <span>CVV/CVS</span>
                  {# <span class='info'>What's this</span> #}
                </label>
                <div class="input">
                  <input type="text"
                         id="cvc"
                         maxlength="4"
                         data-stripe="cvc"
                         placeholder="cvc" />
                  <div class="overlay">
                    <span>111</span>
                    <img src="/images/icons/checkmark-green.svg" />
                  </div>
                </div>
              </div>

              <div class="field zip" valid="false">
                <label for="zipCode"><span>Billing Zip Code</span></label>
                <div class="input">
                  <input type="text"
                         id="zipCode"
                         maxlength="5"
                         data-stripe="address_zip"
                         placeholder="Example: 21201" />
                  <div class="overlay">
                    <span>21201</span>
                    <img src="/images/icons/checkmark-green.svg" />
                  </div>
                </div>
              </div>

            </div>

          </div>

          <div class="errors">
            <p class="expired">The date entered has invalid</p>
            <p class="zip">The zip code entered has invalid</p>
            <p class="cvc">The CVC code entered has invalid</p>
            <p class="number">The</p>
          </div>

        </div>

        <div class="checkout-actions">

          <a href="" class="icons">Back <span>to Your Order Summary</span></a>
          <input type="submit" data-button="continue" value="Continue to Process Order" class="call-to-action">

        </div>

      </form>

    </div>

  </section>

{% endblock %}
